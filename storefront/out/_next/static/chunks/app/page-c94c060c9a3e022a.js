(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6746:function(e,r,t){Promise.resolve().then(t.bind(t,1248))},1248:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return c}});var a=t(7437),n=t(6229),o=t(7648),i=t(8510);function s(e){var r,t,n;let{product:s}=e,d=s.variants[0],c=null===(n=s.mockup_config)||void 0===n?void 0:null===(t=n.views)||void 0===t?void 0:null===(r=t[0])||void 0===r?void 0:r.mockupUrl,l=(null==d?void 0:d.image_url)||c||"/placeholder-product.png",u=(null==d?void 0:d.price_cents)||0;return(0,a.jsxs)(o.default,{href:"/product?id=".concat(s.id),className:"group block bg-white rounded-lg overflow-hidden border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all",children:[(0,a.jsxs)("div",{className:"aspect-square bg-gray-100 relative overflow-hidden",children:[(0,a.jsx)("img",{src:l,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),s.customizable&&(0,a.jsx)("span",{className:"absolute top-2 right-2 bg-primary-600 text-white text-xs font-medium px-2 py-1 rounded",children:"Customizable"})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 group-hover:text-primary-600 transition-colors",children:s.title}),(0,a.jsx)(i.n,{cents:u,className:"mt-1 text-gray-600"})]})]})}function d(e){let{products:r,loading:t}=e;return t?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((e,r)=>(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"aspect-square bg-gray-200 rounded-lg"}),(0,a.jsx)("div",{className:"mt-4 h-4 bg-gray-200 rounded w-3/4"}),(0,a.jsx)("div",{className:"mt-2 h-4 bg-gray-200 rounded w-1/4"})]},r))}):0===r.length?(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No products found."})}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(e=>(0,a.jsx)(s,{product:e},e.id))})}function c(){let{data:e,isLoading:r,error:t}=(0,n.r)();return(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Shop"}),t&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:"Failed to load products. Please try again."}),(0,a.jsx)(d,{products:(null==e?void 0:e.products)||[],loading:r})]})}},8510:function(e,r,t){"use strict";t.d(r,{n:function(){return o}});var a=t(7437),n=t(1994);function o(e){let{cents:r,className:t}=e,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r/100);return(0,a.jsx)("span",{className:(0,n.W)("font-medium",t),children:o})}},6229:function(e,r,t){"use strict";t.d(r,{i:function(){return i},r:function(){return o}});var a=t(1713),n=t(1619);function o(){return(0,a.a)({queryKey:["products"],queryFn:async()=>{let e=await (0,n.hi)("/v1/products?status=active");return{products:e.items,pagination:e.pagination}}})}function i(e){return(0,a.a)({queryKey:["product",e],queryFn:()=>(0,n.hi)("/v1/products/".concat(e)),enabled:!!e})}},1619:function(e,r,t){"use strict";t.d(r,{hi:function(){return o},cT:function(){return i}});let a={apiUrl:"https://merchant.riki-dd7.workers.dev",apiKey:"pk_6cac8a6e66ed66449be88e9eda5140a68129720dac26e97d"};class n extends Error{constructor(e,r,t){super(t),this.status=e,this.code=r,this.name="ApiError"}}async function o(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{method:t="GET",body:o,headers:i={}}=r,s="".concat(a.apiUrl).concat(e),d=await fetch(s,{method:t,headers:{"Content-Type":"application/json",...a.apiKey&&{Authorization:"Bearer ".concat(a.apiKey)},...i},body:o?JSON.stringify(o):void 0}),c=await d.json();if(!d.ok){var l,u;throw new n(d.status,(null===(l=c.error)||void 0===l?void 0:l.code)||"unknown",(null===(u=c.error)||void 0===u?void 0:u.message)||"An error occurred")}return c}async function i(e){let r=new FormData;r.append("file",e);let t=await fetch("".concat(a.apiUrl,"/v1/designs/upload"),{method:"POST",headers:{...a.apiKey&&{Authorization:"Bearer ".concat(a.apiKey)}},body:r}),o=await t.json();if(!t.ok){var i,s;throw new n(t.status,(null===(i=o.error)||void 0===i?void 0:i.code)||"upload_failed",(null===(s=o.error)||void 0===s?void 0:s.message)||"Upload failed")}return o}}},function(e){e.O(0,[648,661,713,971,117,744],function(){return e(e.s=6746)}),_N_E=e.O()}]);